// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id       String @id @default(uuid())
    email    String @unique @db.Text
    password String @db.Text
    name     String @db.VarChar(255)
}

model Customer {
    id        String   @id @default(uuid())
    name      String   @db.VarChar(255)
    email     String   @unique @db.Text
    image_url String   @db.VarChar(255)
    Invoice   Invoice?
}

model Revenue {
    month   String @unique @db.VarChar(4)
    revenue Int
}

model Invoice {
    id          String   @id @default(uuid())
    customer    Customer @relation(fields: [customer_id], references: [id])
    customer_id String   @unique
    amount      Int
    status      String   @db.VarChar(255)
    date        DateTime?
}

//   CREATE TABLE IF NOT EXISTS invoices (
//       id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
//       customer_id UUID NOT NULL,
//       amount INT NOT NULL,
//       status VARCHAR(255) NOT NULL,
//       date DATE NOT NULL
//     );

//  CREATE TABLE IF NOT EXISTS users (
//       id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
//       name VARCHAR(255) NOT NULL,
//       email TEXT NOT NULL UNIQUE,
//       password TEXT NOT NULL
//     );

//  CREATE TABLE IF NOT EXISTS customers (
//       id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
//       name VARCHAR(255) NOT NULL,
//       email VARCHAR(255) NOT NULL,
//       image_url VARCHAR(255) NOT NULL
//     );

//  CREATE TABLE IF NOT EXISTS revenue (
//       month VARCHAR(4) NOT NULL UNIQUE,
//       revenue INT NOT NULL
//     );
